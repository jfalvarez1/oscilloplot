<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Oscilloplot - User Guide</title>
    <style>
        :root {
            --bg-dark: #1a1a2e;
            --bg-card: #16213e;
            --accent: #0f3460;
            --highlight: #e94560;
            --text: #eaeaea;
            --text-dim: #a0a0a0;
            --success: #4ade80;
            --warning: #fbbf24;
            --info: #60a5fa;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: var(--bg-dark);
            color: var(--text);
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            text-align: center;
            padding: 40px 20px;
            background: linear-gradient(135deg, var(--bg-card), var(--accent));
            border-bottom: 3px solid var(--highlight);
        }

        h1 {
            font-size: 3rem;
            margin-bottom: 10px;
            background: linear-gradient(90deg, var(--highlight), #ff6b9d);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .subtitle {
            color: var(--text-dim);
            font-size: 1.2rem;
        }

        nav {
            background: var(--bg-card);
            padding: 15px;
            position: sticky;
            top: 0;
            z-index: 100;
            border-bottom: 1px solid var(--accent);
        }

        nav ul {
            list-style: none;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 20px;
        }

        nav a {
            color: var(--text);
            text-decoration: none;
            padding: 8px 16px;
            border-radius: 5px;
            transition: all 0.3s;
        }

        nav a:hover {
            background: var(--highlight);
        }

        section {
            background: var(--bg-card);
            margin: 30px 0;
            padding: 30px;
            border-radius: 10px;
            border-left: 4px solid var(--highlight);
        }

        h2 {
            color: var(--highlight);
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--accent);
        }

        h3 {
            color: var(--info);
            margin: 20px 0 10px;
        }

        h4 {
            color: var(--success);
            margin: 15px 0 10px;
        }

        p {
            margin: 10px 0;
        }

        .card {
            background: var(--accent);
            padding: 20px;
            border-radius: 8px;
            margin: 15px 0;
        }

        .card-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .feature-card {
            background: var(--accent);
            padding: 20px;
            border-radius: 8px;
            border-top: 3px solid var(--highlight);
        }

        .feature-card h4 {
            margin-top: 0;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
        }

        th, td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid var(--accent);
        }

        th {
            background: var(--accent);
            color: var(--highlight);
        }

        tr:hover {
            background: rgba(233, 69, 96, 0.1);
        }

        .steps {
            counter-reset: step;
        }

        .step {
            background: var(--accent);
            padding: 20px 20px 20px 70px;
            margin: 15px 0;
            border-radius: 8px;
            position: relative;
        }

        .step::before {
            counter-increment: step;
            content: counter(step);
            position: absolute;
            left: 20px;
            top: 50%;
            transform: translateY(-50%);
            width: 35px;
            height: 35px;
            background: var(--highlight);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }

        .tip {
            background: rgba(74, 222, 128, 0.1);
            border-left: 4px solid var(--success);
            padding: 15px;
            margin: 15px 0;
            border-radius: 0 8px 8px 0;
        }

        .tip::before {
            content: "üí° Tip: ";
            font-weight: bold;
            color: var(--success);
        }

        .warning {
            background: rgba(251, 191, 36, 0.1);
            border-left: 4px solid var(--warning);
            padding: 15px;
            margin: 15px 0;
            border-radius: 0 8px 8px 0;
        }

        .warning::before {
            content: "‚ö†Ô∏è Note: ";
            font-weight: bold;
            color: var(--warning);
        }

        .category-photos { border-left-color: #60a5fa; }
        .category-photos h4 { color: #60a5fa; }

        .category-people { border-left-color: #fbbf24; }
        .category-people h4 { color: #fbbf24; }

        .category-artwork { border-left-color: #f472b6; }
        .category-artwork h4 { color: #f472b6; }

        .category-graphics { border-left-color: #4ade80; }
        .category-graphics h4 { color: #4ade80; }

        kbd {
            background: var(--accent);
            padding: 3px 8px;
            border-radius: 4px;
            border: 1px solid var(--text-dim);
            font-family: monospace;
        }

        code {
            background: var(--accent);
            padding: 2px 6px;
            border-radius: 3px;
            font-family: monospace;
            color: var(--success);
        }

        .button {
            display: inline-block;
            padding: 10px 20px;
            background: var(--highlight);
            color: white;
            text-decoration: none;
            border-radius: 5px;
            margin: 5px;
            transition: all 0.3s;
        }

        .button:hover {
            background: #ff6b9d;
            transform: translateY(-2px);
        }

        .button-green {
            background: var(--success);
            color: #1a1a2e;
        }

        .button-blue {
            background: var(--info);
            color: #1a1a2e;
        }

        footer {
            text-align: center;
            padding: 30px;
            color: var(--text-dim);
            border-top: 1px solid var(--accent);
            margin-top: 40px;
        }

        @media (max-width: 768px) {
            h1 { font-size: 2rem; }
            nav ul { flex-direction: column; align-items: center; }
            .container { padding: 10px; }
            section { padding: 20px; }
        }
    </style>
</head>
<body>
    <header>
        <h1>Oscilloplot</h1>
        <p class="subtitle">High-Performance XY Audio Oscilloscope Generator</p>
        <p style="margin-top: 20px;">
            <a href="https://github.com/zerav/oscilloplot/releases/latest" class="button">Download Latest</a>
        </p>
    </header>

    <nav>
        <ul>
            <li><a href="#quickstart">Quick Start</a></li>
            <li><a href="#vectorizer">Image Vectorizer</a></li>
            <li><a href="#generators">Generators</a></li>
            <li><a href="#effects">Effects</a></li>
            <li><a href="#display">Display Settings</a></li>
        </ul>
    </nav>

    <div class="container">

        <!-- Quick Start Section -->
        <section id="quickstart">
            <h2>Quick Start Guide</h2>

            <div class="card">
                <h3>Installation</h3>
                <p><strong>No installation required!</strong> Simply download the ZIP file, extract it, and run <code>oscilloplot.exe</code>.</p>
                <p>All dependencies are included - no Visual C++ Redistributable or other software needed.</p>
            </div>

            <h3>Basic Usage</h3>
            <div class="steps">
                <div class="step">
                    <strong>Launch the application</strong><br>
                    Double-click <code>oscilloplot.exe</code> to start.
                </div>
                <div class="step">
                    <strong>Select a pattern</strong><br>
                    Use the Generators panel on the right to create patterns (Circle, Lissajous, etc.)
                </div>
                <div class="step">
                    <strong>Press Play</strong><br>
                    Press <kbd>Space</kbd> or click the Play button to start audio output and visualization.
                </div>
                <div class="step">
                    <strong>Connect to oscilloscope (optional)</strong><br>
                    Route audio output to your oscilloscope: Left channel = X, Right channel = Y
                </div>
            </div>

            <h3>Keyboard Shortcuts</h3>
            <table>
                <tr><th>Key</th><th>Action</th></tr>
                <tr><td><kbd>Space</kbd></td><td>Play / Stop audio</td></tr>
                <tr><td><kbd>Escape</kbd></td><td>Exit application</td></tr>
            </table>
        </section>

        <!-- Image Vectorizer Section -->
        <section id="vectorizer">
            <h2>Image Vectorizer - Complete Guide</h2>

            <p>The Image Vectorizer converts any image into oscilloscope-compatible vector patterns using advanced edge detection algorithms.</p>

            <h3>Accessing the Vectorizer</h3>
            <p>Go to <strong>View > Image Vectorizer</strong> in the menu bar.</p>

            <h3>Step-by-Step Usage</h3>
            <div class="steps">
                <div class="step">
                    <strong>Load an Image</strong><br>
                    Click <strong>Browse...</strong> to select an image file (PNG, JPG, BMP, GIF, TGA), then click <strong>Load Image</strong>.
                </div>
                <div class="step">
                    <strong>Choose the Right Mode</strong><br>
                    Select a detection mode that matches your image type (see mode descriptions below).
                </div>
                <div class="step">
                    <strong>Adjust Parameters (Optional)</strong><br>
                    Fine-tune preprocessing, detection, and output settings if needed.
                </div>
                <div class="step">
                    <strong>Process the Image</strong><br>
                    Click the blue <strong>Process Image</strong> button and wait for completion.
                </div>
                <div class="step">
                    <strong>Apply to Oscilloscope</strong><br>
                    Click the green <strong>Apply to Oscilloscope</strong> button to use the pattern.
                </div>
            </div>

            <h3>Detection Modes</h3>
            <p>Choose the mode that best matches your image type for optimal results:</p>

            <div class="card-grid">
                <div class="feature-card category-photos">
                    <h4>PHOTOS</h4>
                    <p><strong>General Photo</strong> - Landscapes, objects, general photography. Uses Canny edge detection.</p>
                    <p><strong>Portrait / Face</strong> - People and faces. Bilateral filter smooths skin while preserving features.</p>
                    <p><strong>High Detail</strong> - Architecture, textures. Captures maximum edge detail.</p>
                </div>

                <div class="feature-card category-people">
                    <h4>PEOPLE (Smart Detection)</h4>
                    <p><strong>Face Focus</strong> - Close-up face shots with YCbCr skin detection.</p>
                    <p><strong>Headshot / Bust</strong> - Head and shoulders with smooth transitions.</p>
                    <p><strong>Full Body</strong> - Complete figures with face emphasis.</p>
                    <p><strong>Artistic Portrait</strong> - Stylized line portraits with DoG edge detection.</p>
                </div>

                <div class="feature-card category-artwork">
                    <h4>ARTWORK</h4>
                    <p><strong>Cartoon / Anime</strong> - Cel-shaded art with color quantization.</p>
                    <p><strong>Line Art / Sketch</strong> - Pencil drawings using Difference of Gaussians.</p>
                    <p><strong>Pixel Art</strong> - Sprites and retro graphics with sharp pixel preservation.</p>
                </div>

                <div class="feature-card category-graphics">
                    <h4>GRAPHICS</h4>
                    <p><strong>Logo / Icon</strong> - High-contrast graphics with binary threshold.</p>
                    <p><strong>Document / Text</strong> - Scanned documents with adaptive threshold.</p>
                    <p><strong>Silhouette</strong> - Solid shapes with morphological cleanup.</p>
                </div>
            </div>

            <h3>Parameter Reference</h3>

            <h4>Preprocessing</h4>
            <table>
                <tr><th>Parameter</th><th>Range</th><th>Description</th></tr>
                <tr><td>Blur</td><td>0 - 5</td><td>Noise reduction before edge detection</td></tr>
                <tr><td>Brightness</td><td>-1 to 1</td><td>Overall image brightness adjustment</td></tr>
                <tr><td>Contrast</td><td>0.5 - 2</td><td>Contrast enhancement for clearer edges</td></tr>
            </table>

            <h4>Detection Parameters (varies by mode)</h4>
            <table>
                <tr><th>Parameter</th><th>Used In</th><th>Description</th></tr>
                <tr><td>Low Threshold</td><td>Photo modes</td><td>Weak edge threshold (pixels below are ignored)</td></tr>
                <tr><td>High Threshold</td><td>Photo modes</td><td>Strong edge threshold (optimal ratio 1:2 to 1:3)</td></tr>
                <tr><td>Skin Sensitivity</td><td>People modes</td><td>Skin color detection range (0.5-2)</td></tr>
                <tr><td>Face Emphasis</td><td>People modes</td><td>Detail enhancement in face region (1-3)</td></tr>
                <tr><td>Background Simplify</td><td>People modes</td><td>Simplification of non-face areas (1-5)</td></tr>
                <tr><td>Color Levels</td><td>Cartoon</td><td>Number of color levels (fewer = more cartoon-like)</td></tr>
                <tr><td>Fine/Coarse Detail</td><td>Line Art</td><td>DoG sigma values for line detection</td></tr>
            </table>

            <h4>Contour Processing</h4>
            <table>
                <tr><th>Parameter</th><th>Range</th><th>Description</th></tr>
                <tr><td>Min Length</td><td>3 - 100</td><td>Minimum points per contour (filters noise)</td></tr>
                <tr><td>Simplify</td><td>0.5 - 10</td><td>Douglas-Peucker simplification (higher = fewer points)</td></tr>
                <tr><td>Connect Dist</td><td>0 - 20</td><td>Maximum gap to bridge between contours</td></tr>
                <tr><td>Close Contours</td><td>On/Off</td><td>Connect endpoints of nearly-closed shapes</td></tr>
            </table>

            <h4>Output</h4>
            <table>
                <tr><th>Parameter</th><th>Range</th><th>Description</th></tr>
                <tr><td>Max Points</td><td>1000 - 20000</td><td>Maximum points in output (more = higher detail)</td></tr>
            </table>

            <div class="tip">
                Click <strong>Reset to Defaults</strong> to restore optimal settings for the current mode.
            </div>

            <h3>Tips for Best Results</h3>
            <ul style="margin-left: 20px;">
                <li><strong>Start with the right mode</strong> - Mode selection is the most important step</li>
                <li><strong>High contrast images work best</strong> - Clear edges produce cleaner traces</li>
                <li><strong>Use "Invert Image"</strong> - For light lines on dark backgrounds</li>
                <li><strong>Reduce Max Points</strong> - For smoother playback with less CPU</li>
                <li><strong>Increase Simplify</strong> - To reduce complexity while maintaining shape</li>
            </ul>

            <h3>Example Workflows</h3>

            <div class="card">
                <h4>Portrait Photo</h4>
                <ol style="margin-left: 20px;">
                    <li>Load your portrait photo</li>
                    <li>Select <strong>Face Focus</strong> or <strong>Headshot</strong> mode</li>
                    <li>Click <strong>Process Image</strong></li>
                    <li>If background is too busy, increase <strong>Background Simplify</strong></li>
                    <li>Click <strong>Apply to Oscilloscope</strong></li>
                </ol>
            </div>

            <div class="card">
                <h4>Logo or Icon</h4>
                <ol style="margin-left: 20px;">
                    <li>Load your logo image</li>
                    <li>Select <strong>Logo / Icon</strong> mode</li>
                    <li>Adjust <strong>Threshold</strong> if needed (higher = cleaner lines)</li>
                    <li>Click <strong>Process Image</strong></li>
                    <li>Click <strong>Apply to Oscilloscope</strong></li>
                </ol>
            </div>
        </section>

        <!-- Generators Section -->
        <section id="generators">
            <h2>Pattern Generators</h2>

            <p>Oscilloplot includes multiple pattern generators accessible from the Generators panel.</p>

            <div class="card-grid">
                <div class="feature-card">
                    <h4>Basic Shapes</h4>
                    <ul style="margin-left: 20px;">
                        <li>Circle</li>
                        <li>Ellipse</li>
                        <li>Sine Wave</li>
                        <li>Square Wave</li>
                    </ul>
                </div>

                <div class="feature-card">
                    <h4>Mathematical Curves</h4>
                    <ul style="margin-left: 20px;">
                        <li>Lissajous Curves</li>
                        <li>Rose Curves</li>
                        <li>Spirograph</li>
                        <li>Archimedean Spiral</li>
                        <li>Logarithmic Spiral</li>
                    </ul>
                </div>

                <div class="feature-card">
                    <h4>Decorative Shapes</h4>
                    <ul style="margin-left: 20px;">
                        <li>Star</li>
                        <li>Heart</li>
                        <li>Flower</li>
                    </ul>
                </div>

                <div class="feature-card">
                    <h4>3D Shapes (19 types)</h4>
                    <ul style="margin-left: 20px;">
                        <li>Platonic Solids (Cube, Tetrahedron, etc.)</li>
                        <li>Curved Surfaces (Sphere, Torus, Cylinder)</li>
                        <li>Complex Shapes (Knots, Mobius Strip)</li>
                        <li>3D Text (animated rotating text!)</li>
                    </ul>
                </div>

                <div class="feature-card">
                    <h4>Interactive Tools</h4>
                    <ul style="margin-left: 20px;">
                        <li>Drawing Canvas (freehand drawing)</li>
                        <li>Sound Pad (grid sequencer)</li>
                        <li>Harmonics Editor</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Effects Section -->
        <section id="effects">
            <h2>Effects Pipeline</h2>

            <p>Apply real-time effects to any pattern from the Effects panel.</p>

            <table>
                <tr><th>Effect</th><th>Description</th></tr>
                <tr><td>Rotation</td><td>Rotate pattern (static angle or animated CW/CCW)</td></tr>
                <tr><td>X/Y Fade</td><td>Fade in/out on X or Y axis</td></tr>
                <tr><td>Shrink/Unshrink</td><td>Scale pattern over time</td></tr>
                <tr><td>Noise</td><td>Add randomness to X/Y channels</td></tr>
                <tr><td>Wavy</td><td>Amplitude/frequency modulation</td></tr>
                <tr><td>Tremolo</td><td>Amplitude modulation at audio rate</td></tr>
                <tr><td>Ring Modulation</td><td>Multiply with a carrier frequency</td></tr>
                <tr><td>Echo/Delay</td><td>Create repeating echoes</td></tr>
                <tr><td>Kaleidoscope</td><td>Mirror pattern symmetrically</td></tr>
            </table>

            <div class="tip">
                Effects can be combined! Try rotation + tremolo for dynamic visuals.
            </div>
        </section>

        <!-- Display Settings Section -->
        <section id="display">
            <h2>Display Settings</h2>

            <p>Access via <strong>View > Display Settings</strong> to customize the CRT phosphor simulation.</p>

            <h3>Phosphor Presets</h3>
            <table>
                <tr><th>Preset</th><th>Color</th><th>Typical Use</th></tr>
                <tr><td>P31 (Tek 465B)</td><td>Yellowish-green</td><td>Classic oscilloscope look</td></tr>
                <tr><td>P1 Green</td><td>Pure green</td><td>Standard CRT green</td></tr>
                <tr><td>P7 Blue</td><td>Blue-white</td><td>Radar/long persistence</td></tr>
                <tr><td>Amber</td><td>Orange-amber</td><td>Terminal monitor style</td></tr>
            </table>

            <h3>Key Settings</h3>
            <ul style="margin-left: 20px;">
                <li><strong>Decay Time</strong> - How long traces persist (10-200ms)</li>
                <li><strong>Brightness</strong> - Overall intensity</li>
                <li><strong>Velocity Effect</strong> - Slower beam = brighter trace (like real CRTs)</li>
                <li><strong>Glow/Bloom</strong> - Light scatter simulation</li>
                <li><strong>Beam Width/Focus</strong> - Trace thickness and sharpness</li>
            </ul>
        </section>

    </div>

    <footer>
        <p>Oscilloplot - MIT License</p>
        <p>
            <a href="https://github.com/zerav/oscilloplot" style="color: var(--info);">GitHub</a> |
            <a href="https://github.com/zerav/oscilloplot/releases" style="color: var(--info);">Downloads</a>
        </p>
    </footer>
</body>
</html>
